(this["webpackJsonpmy-reads"]=this["webpackJsonpmy-reads"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(19),s=n.n(o),r=(n(25),n(26),n(9)),i=n(3),d=n(1),l=function(e){var t=e.content,n=e.className,c=e.headingLevel,a=e.headingClass,o=c;return Object(d.jsx)("div",{className:n,children:Object(d.jsx)(o,{className:a,children:t})})};l.defaultProps={headingClass:"heading"};var u=l,j=n(6),h=n(11),b="https://reactnd-books-api.udacity.com",f=localStorage.token;f||(f=localStorage.token=Math.random().toString(36).substr(-8));var O={Accept:"application/json",Authorization:f},m=n(7),p=function(e){var t=e.choices,n=e.label,a=e.onSelectChoice,o=e.currentShelf,s=e.choiceName,r=Object(c.useState)(!1),i=Object(j.a)(r,2),l=i[0],u=i[1],h=Object(c.useRef)(),b=function(e){h.current&&h.current.contains(e.target)?u(!0):u(!1)};return Object(c.useEffect)((function(){return document.addEventListener("mousedown",b),function(){document.removeEventListener("mousedown",b)}}),[]),Object(d.jsxs)("div",{className:"dropdown",ref:h,children:[Object(d.jsx)("button",{type:"button",className:"btn",children:Object(d.jsx)(m.b,{})}),Object(d.jsxs)("div",{id:"myDropdown",className:"dropdown-content ".concat(l?"show":"hide"),children:[Object(d.jsx)("div",{className:"dropdown-label",children:n}),t.map((function(e,t){return Object(d.jsxs)("div",{className:"choice-wrapper",children:[Object(d.jsx)("span",{className:"check-mark",children:o===e?"\u2714":""}),Object(d.jsx)("button",{className:"dropdown-choice",onClick:function(){a(e)},type:"button",value:e,children:s[e]})]},t)}))]})]})};p.defaultProps={label:"Move to...",choiceName:{currentlyReading:"Currently Reading",wantToRead:"Want To Read",read:"Read",none:"None"}};var x=p,g=function(e){var t=e.book,n=Object(c.useState)("None"),a=Object(j.a)(n,2),o=a[0],s=a[1],r=Object(c.useState)({}),i=Object(j.a)(r,2),l=i[0],u=i[1],f=Object(c.useState)("None"),m=Object(j.a)(f,2),p=m[0],g=m[1];return Object(c.useEffect)((function(){(function(e,t){return fetch("".concat(b,"/books/").concat(e.id),{method:"PUT",headers:Object(h.a)(Object(h.a)({},O),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))})(l,o).then((function(){var e;(e=t.id,fetch("".concat(b,"/books/").concat(e),{headers:O}).then((function(e){return e.json()})).then((function(e){return e.book}))).then((function(e){g(e.shelf)}))}))}),[o]),Object(d.jsxs)("div",{className:"book",children:[Object(d.jsx)("img",{src:t.imageLinks.thumbnail,alt:t.title,className:"book-thumbnail"}),Object(d.jsx)(x,{choices:["currentlyReading","wantToRead","read","none"],onSelectChoice:function(e){var n;n=t,s(e),u(n)},shelf:o,currentShelf:p,choiceName:{currentlyReading:"Currently Reading",wantToRead:"Want To Read",read:"Read",none:"None"}}),Object(d.jsx)("div",{className:"book-title",children:t.title}),Object(d.jsx)("div",{className:"book-authors",children:t.authors.map((function(e,t){return Object(d.jsx)("div",{children:e},t)}))})]})},v=function(e){var t=e.data,n=e.shelf,c=function(e){return e};return"currentlyReading"===n?Object(d.jsx)("div",{className:"book-list",children:t!==[]?t.map((function(e){return"currentlyReading"===e.shelf?Object(d.jsx)(g,{book:e,toggleDropDown:c},e.id):""})):"ok"}):"wantToRead"===n?Object(d.jsx)("div",{className:"book-list",children:t!==[]?t.map((function(e){return"wantToRead"===e.shelf?Object(d.jsx)(g,{book:e,toggleDropDown:c},e.id):""})):"ok"}):"read"===n?Object(d.jsx)("div",{className:"book-list",children:t!==[]?t.map((function(e){return"read"===e.shelf?Object(d.jsx)(g,{book:e,toggleDropDown:c},e.id):""})):"ok"}):Object(d.jsx)("div",{className:"book-list",children:t!==[]?t.map((function(e){return Object(d.jsx)(g,{book:e,toggleDropDown:c},e.id)})):"ok"})};v.defaultProps={shelf:"none"};var N=v,k=function(e){var t=e.shelfName,n=Object(c.useState)([]),a=Object(j.a)(n,2),o=a[0],s=a[1],r="";return"Currently Reading"===t?r="currentlyReading":"Want To Read"===t?r="wantToRead":"Read"===t&&(r="read"),Object(c.useEffect)((function(){fetch("".concat(b,"/books"),{headers:O}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(e){e.length>0?s(e):s([])}))})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{content:t,headingClass:"shelf-header",headingLevel:"h2"}),Object(d.jsx)("hr",{}),Object(d.jsx)(N,{data:o,shelf:r})]})},y=function(e){var t=e.children;return Object(d.jsx)("div",{children:Object(d.jsxs)("button",{type:"button",className:"btn addbtn",children:[Object(d.jsx)(m.c,{}),t]})})},R=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{content:"MyReads",className:"App-header",headingLevel:"h1"}),Object(d.jsx)(k,{shelfName:"Currently Reading"}),Object(d.jsx)(k,{shelfName:"Want To Read"}),Object(d.jsx)(k,{shelfName:"Read"}),Object(d.jsx)(r.b,{to:"/MyReads/search",children:Object(d.jsx)(y,{})})]})},w=function(e){var t=e.type,n=e.placeholder,c=e.inputClassName,a=e.iconClassName,o=e.icon,s=e.handleChange,i=e.searchValue;return Object(d.jsxs)("div",{children:[Object(d.jsx)(r.b,{to:"/MyReads",children:Object(d.jsx)("span",{className:a,children:o})}),Object(d.jsx)("input",{type:t,value:i,placeholder:n,className:c,onChange:s})]})};w.defaultProps={placeholder:"Search",inputClassName:"search-bar",iconClassName:"input-arrow",icon:Object(d.jsx)(m.a,{})};var C=w,S=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),s=Object(j.a)(o,2),r=s[0],i=s[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){n.length>0?function(e){return fetch("".concat(b,"/search"),{method:"POST",headers:Object(h.a)(Object(h.a)({},O),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))}(n).then((function(e){e.length>0?i(e):i([])})):i([])}),1e3);return function(){return clearTimeout(e)}}),[n]),Object(d.jsxs)("div",{children:[Object(d.jsx)(C,{type:"text",searchValue:n,placeholder:"Search for a book",icon:Object(d.jsx)(m.a,{}),handleChange:function(e){a(e.target.value)}}),Object(d.jsx)(N,{data:r})]})},T=function(){return Object(d.jsx)(r.a,{children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{exact:!0,path:"/MyReads/",component:R}),Object(d.jsx)(i.a,{path:"/MyReads/search",component:S})]})})};var D=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(T,{})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),o(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root")),L()}},[[33,1,2]]]);
//# sourceMappingURL=main.1b856d11.chunk.js.map