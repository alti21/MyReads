{"version":3,"sources":["components/Header.js","components/ButtonDropDown.js","api/BooksAPI.js","components/Book.js","components/BookList.js","components/Shelf.js","components/AddButton.js","pages/DisplayPage.js","components/SearchBar.js","pages/SearchPage.js","AppRoutes.js","App.js","reportWebVitals.js","index.js"],"names":["Header","content","className","headingLevel","headingClass","Heading","defaultProps","ButtonDropDown","choices","label","onSelectChoice","currentShelf","choiceName","useState","active","setActive","node","useRef","handleClick","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","ref","type","id","map","choice","index","onClick","value","currentlyReading","wantToRead","read","none","api","token","localStorage","Math","random","toString","substr","headers","Book","book","reRender","shelfType","setShelfType","currentBook","setCurrentBook","curShelf","setCurShelf","unmounted","shelf","fetch","method","body","JSON","stringify","then","res","json","update","bookId","data","res2","src","imageLinks","thumbnail","alt","title","currbook","authors","author","BookList","toggleClass","toggleDropDown","Shelf","AddButton","children","DisplayPage","setData","reload","setReload","books","length","to","SearchBar","placeholder","inputClassName","iconClassName","icon","handleChange","searchValue","onChange","SearchPage","query","setQuery","bookSearch","setTimeout","search","clearTimeout","AppRoutes","exact","path","component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.664d7172.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Header = ({ content, className, headingLevel, headingClass }) => {\n  const Heading = headingLevel;\n  return (\n    <div className={className}>\n      <Heading className={headingClass}>{content}</Heading>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  content: PropTypes.string.isRequired,\n  className: PropTypes.string.isRequired,\n  headingLevel: PropTypes.string.isRequired,\n  headingClass: PropTypes.string,\n};\n\nHeader.defaultProps = {\n  headingClass: 'heading',\n};\n\nexport default Header;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { BsFillCaretDownFill } from 'react-icons/bs';\n\nconst ButtonDropDown = ({\n  choices,\n  label,\n  onSelectChoice,\n  currentShelf,\n  choiceName,\n}) => {\n  const [active, setActive] = useState(false);\n\n  const node = useRef();\n\n  const handleClick = (e) => {\n    if (node.current && node.current.contains(e.target)) {\n      setActive(true);\n      return;\n    }\n    setActive(false);\n  };\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClick); // return function to be called when unmounted\n    return () => {\n      document.removeEventListener('mousedown', handleClick);\n    };\n  }, []);\n\n  return (\n    <div className=\"dropdown\" ref={node}>\n      <button type=\"button\" className=\"btn\">\n        <BsFillCaretDownFill />\n      </button>\n      <div\n        id=\"myDropdown\"\n        className={`dropdown-content ${active ? `show` : `hide`}`}\n      >\n        <div className=\"dropdown-label\">{label}</div>\n        {choices.map((choice, index) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <div className=\"choice-wrapper\" key={index}>\n            <span className=\"check-mark\">\n              {currentShelf === choice ? 'âœ”' : ''}\n            </span>\n            <button\n              className=\"dropdown-choice\"\n              onClick={() => {\n                // we create an specific callback for each item\n                onSelectChoice(choice); // callback in parent component\n              }}\n              type=\"button\"\n              value={choice}\n            >\n              {choiceName[choice]}\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nButtonDropDown.propTypes = {\n  choices: PropTypes.arrayOf(PropTypes.string).isRequired,\n  label: PropTypes.string,\n  onSelectChoice: PropTypes.func.isRequired,\n  currentShelf: PropTypes.string.isRequired,\n  choiceName: PropTypes.shape({\n    currentlyReading: PropTypes.string,\n    wantToRead: PropTypes.string,\n    read: PropTypes.string,\n  }),\n};\n\nButtonDropDown.defaultProps = {\n  label: 'Move to...',\n  choiceName: {\n    currentlyReading: 'Currently Reading',\n    wantToRead: 'Want To Read',\n    read: 'Read',\n    none: 'None',\n  },\n};\n\nexport default ButtonDropDown;\n","const api = 'https://reactnd-books-api.udacity.com';\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet { token } = localStorage;\n// eslint-disable-next-line no-multi-assign\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n\nconst headers = {\n  // eslint-disable-next-line prettier/prettier\n  'Accept': 'application/json',\n  // eslint-disable-next-line prettier/prettier\n  'Authorization': token,\n};\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.book);\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.books);\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ shelf }),\n  }).then((res) => res.json());\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ query }),\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      return data.books;\n    });\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonDropDown from './ButtonDropDown';\nimport { update, get } from '../api/BooksAPI';\n\nconst Book = ({ book, reRender }) => {\n  const choiceName = {\n    currentlyReading: 'Currently Reading',\n    wantToRead: 'Want To Read',\n    read: 'Read',\n    none: 'None',\n  };\n\n  const [shelfType, setShelfType] = useState('None'); // useState is async so state is updated later\n  const [currentBook, setCurrentBook] = useState({});\n  const [curShelf, setCurShelf] = useState('None');\n\n  const updateCurrentBookAndShelf = (currbook, currShelf) => {\n    setShelfType(currShelf);\n    setCurrentBook(currbook);\n  };\n\n  useEffect(() => {\n    let unmounted = false;\n    update(currentBook, shelfType).then(() => {\n      get(book.id).then((res2) => {\n        if (!unmounted) {\n          setCurShelf(res2.shelf);\n          reRender();\n        }\n      });\n    });\n    return () => {\n      unmounted = true;\n    };\n  }, [shelfType]);\n\n  return (\n    <div className=\"book\">\n      <img\n        src={book.imageLinks.thumbnail}\n        alt={book.title}\n        className=\"book-thumbnail\"\n      />\n      <ButtonDropDown\n        choices={['currentlyReading', 'wantToRead', 'read', 'none']}\n        onSelectChoice={(choice) => {\n          // book is from the component's props\n          // this function will be passed down to child\n          updateCurrentBookAndShelf(book, choice);\n        }}\n        shelf={shelfType}\n        currentShelf={curShelf}\n        choiceName={choiceName}\n      />\n      <div className=\"book-title\">{book.title}</div>\n      <div className=\"book-authors\">\n        {book.authors.map((author, index) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <div key={index}>{author}</div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nBook.propTypes = {\n  book: PropTypes.shape({\n    imageLinks: PropTypes.shape({\n      thumbnail: PropTypes.string.isRequired,\n    }),\n    title: PropTypes.string.isRequired,\n    authors: PropTypes.arrayOf(PropTypes.string),\n    shelf: PropTypes.string,\n    id: PropTypes.string,\n  }).isRequired,\n  reRender: PropTypes.func.isRequired,\n};\n\nexport default Book;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Book from './Book';\n\nconst BookList = ({ data, shelfType, reRender }) => {\n  const toggleClass = (active) => {\n    return active;\n  };\n  if (shelfType === 'none') {\n    return (\n      <div className=\"book-list\">\n        {data !== []\n          ? data.map((book) => (\n              <Book\n                book={book}\n                key={book.id}\n                toggleDropDown={toggleClass}\n                reRender={() => reRender()}\n              />\n            ))\n          : null}\n      </div>\n    );\n  }\n  return (\n    <div className=\"book-list\">\n      {data !== []\n        ? data.map((book) =>\n            book.shelf === shelfType ? (\n              <Book\n                book={book}\n                key={book.id}\n                toggleDropDown={toggleClass}\n                reRender={() => reRender()}\n              />\n            ) : null\n          )\n        : null}\n    </div>\n  );\n};\n\nBookList.propTypes = {\n  shelfType: PropTypes.string,\n  reRender: PropTypes.func,\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      map: PropTypes.func,\n    })\n  ).isRequired,\n};\n\nBookList.defaultProps = {\n  shelfType: 'none',\n  reRender: () => {},\n};\n\nexport default BookList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './Header';\n// import { getAll } from '../api/BooksAPI';\nimport BookList from './BookList';\n\nconst Shelf = ({ data, shelf, reRender }) => {\n  // const [data, setData] = useState([]);\n\n  // let shelfType = '';\n  // if (shelfName === 'Currently Reading') shelfType = 'currentlyReading';\n  // else if (shelfName === 'Want To Read') shelfType = 'wantToRead';\n  // else if (shelfName === 'Read') shelfType = 'read';\n\n  // put this getAll call in display page???\n  // useEffect(() => {\n  //   let unmounted = false;\n  //   getAll().then((res) => {\n  //     if (!unmounted && res.length > 0) {\n  //       setData(res);\n  //     } else if (!unmounted) setData([]);\n  //   });\n  //   return () => {\n  //     unmounted = true;\n  //   };\n  // }, []);\n\n  return (\n    <>\n      <Header\n        content={shelf.title}\n        headingClass=\"shelf-header\"\n        headingLevel=\"h2\"\n      />\n      <hr />\n      <BookList data={data} shelfType={shelf.id} reRender={() => reRender()} />\n    </>\n  );\n};\n\nShelf.propTypes = {\n  shelf: PropTypes.shape({\n    title: PropTypes.string,\n    id: PropTypes.string,\n  }).isRequired,\n  data: PropTypes.arrayOf().isRequired,\n  reRender: PropTypes.func.isRequired,\n};\n\nexport default Shelf;\n","import React from 'react';\nimport { BsPlus } from 'react-icons/bs';\n\n// eslint-disable-next-line react/prop-types\nconst AddButton = ({ children }) => (\n  <div>\n    <button type=\"button\" className=\"btn addbtn\">\n      <BsPlus />\n      {children}\n    </button>\n  </div>\n);\n\nexport default AddButton;\n","import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Shelf from '../components/Shelf';\nimport AddButton from '../components/AddButton';\nimport { getAll } from '../api/BooksAPI';\n\nconst DisplayPage = () => {\n  const SHELVES = [\n    {\n      title: 'Currently Reading',\n      id: 'currentlyReading',\n    },\n    {\n      title: 'Want To Read',\n      id: 'wantToRead',\n    },\n    {\n      title: 'Read',\n      id: 'read',\n    },\n  ];\n  const [data, setData] = useState([]);\n  const [reload, setReload] = useState(false);\n\n  const reRender = () => {\n    setReload(!reload);\n  };\n\n  useEffect(() => {\n    let unmounted = false;\n    getAll().then((res) => {\n      if (!unmounted && res.length > 0) {\n        setData(res);\n      } else if (!unmounted) setData([]);\n    });\n    return () => {\n      unmounted = true;\n    };\n  }, [reload]); // this effect should run each time shelf type for a book is updated\n\n  return (\n    <div>\n      <Header content=\"MyReads\" className=\"App-header\" headingLevel=\"h1\" />\n      {SHELVES.map((shelf) => (\n        <Shelf data={data} shelf={shelf} reRender={() => reRender()} />\n      ))}\n\n      <NavLink to=\"/MyReads/search\">\n        <AddButton />\n      </NavLink>\n    </div>\n  );\n};\n\nexport default DisplayPage;\n\n/*\n     <Shelf\n        data={data}\n        shelfName=\"Currently Reading\"\n        reRender={() => reRender()}\n      />\n      <Shelf data={data} shelfName=\"Want To Read\" reRender={() => reRender()} />\n      <Shelf data={data} shelfName=\"Read\" reRender={() => reRender()} />\n*/\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { BsArrowLeftShort } from 'react-icons/bs';\nimport { NavLink } from 'react-router-dom';\n\nconst SearchBar = ({\n  type,\n  placeholder,\n  inputClassName,\n  iconClassName,\n  icon,\n  handleChange,\n  searchValue,\n}) => {\n  return (\n    <div>\n      <NavLink to=\"/MyReads\">\n        <span className={iconClassName}>{icon}</span>\n      </NavLink>\n      <input\n        type={type}\n        value={searchValue}\n        placeholder={placeholder}\n        className={inputClassName}\n        onChange={handleChange}\n      />\n    </div>\n  );\n};\n\nSearchBar.propTypes = {\n  type: PropTypes.string.isRequired,\n  inputClassName: PropTypes.string,\n  iconClassName: PropTypes.string,\n  placeholder: PropTypes.string,\n  icon: PropTypes.element,\n  handleChange: PropTypes.func.isRequired,\n  searchValue: PropTypes.string.isRequired,\n};\n\nSearchBar.defaultProps = {\n  placeholder: 'Search',\n  inputClassName: 'search-bar',\n  iconClassName: 'input-arrow',\n  icon: <BsArrowLeftShort />,\n};\n\nexport default SearchBar;\n","import React, { useEffect, useState } from 'react';\nimport { BsArrowLeftShort } from 'react-icons/bs';\nimport SearchBar from '../components/SearchBar';\nimport { search } from '../api/BooksAPI';\nimport BookList from '../components/BookList';\n\nconst SearchPage = () => {\n  const [query, setQuery] = useState('');\n  const [data, setData] = useState([]);\n\n  const handleChange = (e) => {\n    setQuery(e.target.value);\n  };\n\n  useEffect(() => {\n    let unmounted = false;\n    const bookSearch = setTimeout(() => {\n      if (query.length > 0 && !unmounted) {\n        search(query).then((res) => {\n          if (res.length > 0 && !unmounted) {\n            setData(res);\n          } else if (!unmounted) setData([]);\n        });\n      } else if (!unmounted) {\n        setData([]); // make sure data is not undefined\n      }\n    }, 1000);\n    return () => {\n      clearTimeout(bookSearch);\n      unmounted = true;\n    };\n  }, [query]);\n\n  return (\n    <div>\n      <SearchBar\n        type=\"text\"\n        searchValue={query}\n        placeholder=\"Search for a book\"\n        icon={<BsArrowLeftShort />}\n        handleChange={handleChange}\n      />\n      <BookList data={data} shelfType=\"none\" />\n    </div>\n  );\n};\n\nexport default SearchPage;\n","import React from 'react';\nimport { Switch, BrowserRouter, Route } from 'react-router-dom';\nimport DisplayPage from './pages/DisplayPage';\nimport SearchPage from './pages/SearchPage';\n\nconst AppRoutes = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/MyReads/\" component={DisplayPage} />\n        <Route path=\"/MyReads/search\" component={SearchPage} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default AppRoutes;\n","import React from 'react';\nimport './styles/App.css';\nimport AppRoutes from './AppRoutes';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <AppRoutes />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}